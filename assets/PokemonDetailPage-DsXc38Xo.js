import{r as d,j as s,a as c,b as m}from"./index-yZ6JKnnk.js";import{A as u,C as l,E as o,P as x,g as h,u as j,a as g,L as _}from"./url-DOexBWV3.js";function r({url:e,name:a,skeleton:i=!1}){const[t,n]=d.useState(!!e);return s.jsxs("div",{className:"image",children:[(t||i)&&s.jsx("div",{className:"image__skeleton"}),e&&!i&&s.jsx("img",{className:"image__img",src:e,alt:a||"",onLoad:()=>n(!1),style:{display:t?"none":"block"}}),!t&&!i&&s.jsx("div",{className:"image__empty",children:"No image"})]})}function f({url:e}){return s.jsx("div",{className:"pokemon-detail-floating-audio",children:s.jsx(u,{url:e})})}function N({height:e,weight:a}){return s.jsxs("div",{className:"pokemon-detail-measurements",children:[s.jsxs("div",{children:[s.jsx("span",{className:"pokemon-detail-measurements__label",children:"Height:"}),s.jsx("span",{children:e})]}),s.jsxs("div",{children:[s.jsx("span",{className:"pokemon-detail-measurements__label",children:"Weight:"}),s.jsx("span",{children:a})]})]})}function v({stats:e}){return s.jsx("div",{className:"pokemon-detail-stats",children:e.map(a=>s.jsxs("div",{className:"pokemon-detail-stats__stat",children:[s.jsx("span",{children:a.name}),s.jsx("span",{children:a.value})]},a.name))})}function p({types:e}){return s.jsx("div",{className:"pokemon-detail-types",children:e.map(a=>s.jsx("span",{className:"pokemon-detail-types__type",children:a},a))})}function y(){return s.jsx("div",{className:"pokemon-detail-skeleton","aria-label":"loading pokemon detail",children:s.jsxs(l,{children:[s.jsx("div",{className:"pokemon-detail-skeleton__audio"}),s.jsx("div",{className:"pokemon-detail-skeleton__name"}),s.jsx("div",{className:"pokemon-detail-skeleton__number"}),s.jsxs("div",{className:"pokemon-detail-skeleton__measurements-container",children:[s.jsx("div",{className:"pokemon-detail-skeleton__measurement"}),s.jsx("div",{className:"pokemon-detail-skeleton__measurement"})]})]})})}function b({pokemon:e,error:a,loading:i}){return i?s.jsxs(s.Fragment,{children:[s.jsx(r,{skeleton:!0}),s.jsx(y,{})]}):a||!e?s.jsx(o,{}):s.jsxs(s.Fragment,{children:[s.jsx(r,{url:e.image,name:e.name}),s.jsx("div",{className:"pokemon-detail__info",children:s.jsxs(l,{children:[s.jsx(f,{url:(e==null?void 0:e.audio)||""}),s.jsx("h2",{className:"pokemon-detail__name",children:e==null?void 0:e.name}),s.jsx(x,{id:e==null?void 0:e.id}),s.jsx(N,{height:e==null?void 0:e.height,weight:e==null?void 0:e.weight}),s.jsx(p,{types:e==null?void 0:e.types}),s.jsx(v,{stats:e==null?void 0:e.stats})]})})]})}const w=e=>e?{id:e.id,name:h(e.name),image:e.sprites.other.home.front_default||e.sprites.other["official-artwork"].front_default||e.sprites.other.dream_world.front_default||e.sprites.front_default||null,audio:e.cries.latest||e.cries.legacy||null,weight:e.weight,height:e.height,types:e.types.map(a=>a.type.name),stats:e.stats.map(a=>({name:a.stat.name.split("-").join(" "),value:a.base_stat}))}:null,P=e=>{if(!e||Number.isNaN(Number(e)))throw new Error("wrong ID passed in");const{data:a,error:i,loading:t}=j({endpoint:g.pokemonById(e),transformer:w});return{pokemon:a,error:i,loading:t}};function I(){const{id:e}=c(),{pokemon:a,error:i,loading:t}=P(e),n=m();return s.jsx(_,{onNavigateBack:()=>n(-1),children:s.jsx(b,{pokemon:a,error:i,loading:t})})}export{I as default};
